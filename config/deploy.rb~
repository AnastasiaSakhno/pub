# Имя приложения
set :application, "pub"
# Вызов функции set создаст переменную application и присвоит ей значение "myproject"

# В проекте мы используем только один сервер, выполняющий роль веб-сервиса.
role :web, "makhnopub.com.ua" # хост удалённого сервера
set :user, 'w_makhnopub-dp-ua_1fddcf2b' # пользователь удалённого сервера
set :use_sudo, false # не запускать команды под sudo

# Директория приложения на удалённом хостинге
set :app_dir, "/home/virtwww/#{user}/#{application}" # /home/myuser/myproject/
# Запись "/home/#{user}/#{application}/" аналогична "/home/$user/$application/" в PHP

# Директория, куда будет делаться checkout из репозитория
set :deploy_to, "deploy" # /home/myuser/myproject/deploy

# Настройки репозитория
set :scm, :git # используем subversion
set :scm_url, "git://github.com/AnastasiaSakhno/#{application}.git" # svn://svnhost/trunk/myproject/
# Формируем команду svn checkout --username mysvnuser svn://host/trunk/myproject
set :repository, Proc.new { "#{scm_url}"}

task :after_symlink, :roles => :web do
  run "ln -nfs #{release_path}/public #public_html"
end
